<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kusmi Tea | Quality Organic Teas and Infusions</title>
    <meta name="description" content="Discover a selection of quality organic teas and infusions at Kusmi Tea. Take advantage of our current offers and find the perfect gift for tea lovers.">
    <meta name="keywords" content="Kusmi Tea, Organic Tea , Organic Infusion , Green Tea , Black The, Gifts, accessories, online store">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
        rel="stylesheet">
    <link rel="shortcut icon" href="./assets/favicon/WEB PICTO ONGLET 02.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="bar-promo">
        <a> <strong> New arrival :</strong> Discover Immune Defense green tea enriched with
            vitamin C. |
            FREE delivery over 49€.</a>
        <span> X</span>
    </div>
    <span id="show-promo">
        i
    </span>
    <header>
        <div class="logo">
            <img src="./assets/logo/logo.svg" alt="Logo de Kusmi Tea" />
        </div>
        <div class="navigation">
            <button id="search-btn">
                <img src="./assets/icones/loupe.svg" alt="icône de barre de  recherche" srcset="">
            </button>
            <button id="cart-btn">
                <img src="./assets/icones/cart.svg" alt="icône du panier" srcset="">
                <span id="counter"></span>
            </button>
            <button id="dropdown-menu">
                <img src="./assets/icones/burger-menu.svg" alt="icône du dropdown-menu" srcset="">
            </button>
        </div>
    </header>
    <ul id="dropdown-content">
        <li><a href="#">Latest offers</a></li>
        <li><a href="#">Best sellers</a></li>
        <li><a href="#">Our Teas and Infusions</a></li>
        <li><a href="#">Box and tea bags</a></li>
        <li><a href="#">Gift Boxes</a></li>
        <li><a href="#">Accessoires</a></li>
        <li><a href="#">The brand</a></li>
    </ul>
    <div class="main-container">
        <section>
            <div class="gallery-container">
                <h2> Our Bestsellers </h2>
                <div class="gallery">
                    <div class="gallery-item item">
                        <img src="./assets/gallery/item-1.png" alt="Bundle 45E infu​ +​ gourde">
                        <h4>Bundle 45E infu​ +​ gourde​</h4>
                        <p>Lorem Ipsum</p>
                        <span>17,90€</span>
                        <button class="add-gallery-item"> Add to cart</button>
                    </div>
                    <div class="gallery-item item">
                        <img src="./assets/gallery/item-2.png" alt="Bundle 45E + fourreau​">
                        <h4>Bundle 45E + fourreau​​</h4>
                        <p>Lorem Ipsum</p>
                        <span>17,90€</span>
                        <button class="add-gallery-item"> Add to cart </button>
                    </div>
                    <div class="gallery-item item">
                        <img src="./assets/gallery/item-3.png" alt="Box set Collection Alain Ducasse bio">
                        <h4>Box set Collection Alain Ducasse bio ​</h4>
                        <p>Box set Collection Alain Ducasse bio </p>
                        <span>59,90€</span>
                        <button class="add-gallery-item">  Add to cart </button>
                    </div>
                    <div class="gallery-item item">
                        <img src="./assets/gallery/item-4.png" alt="Rituel Sommeil - Herbal Tea for sleep">
                        <h4>Rituel Sommeil​</h4>
                        <p>Herbal Tea for sleep, delicious and organic</p>
                        <span>23,90€</span>
                        <button class="add-gallery-item">  Add to cart </button>
                    </div>
                </div>
            </div>
        </section>
        <section>
            <div class="banner-container">
                <div class="banner">
                    <img src="./assets/banner/DSC08704-2 1.png" alt="photo du coffret KusmiKube" />
                    <div class="banner-content">
                        <h2>Lorem Ipsum Dolor</h2>
                        <h5>A gift infused with love</h5>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                            labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                            laboris nisi ut aliquip ex ea commodo consequat.</p>
                        <button class="btn-slide"> See more </button>
                    </div>
                </div>
                <div class="banner-responsive">
                    <h2>Lorem Ipsum Dolor</h2>
                    <img src="./assets/responsive/banner.png" alt="photo du coffret KusmiKube" />
                    <div class="banner-content">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse justo odio, aliquet </p>
                    </div>
                </div>
            </div>
            <div class="modal-container" id="modal-container">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <img src="./assets/banner/DSC08704-2 1.png" alt="photo du coffret KusmiKube" />
                    <div class="modal-description">
                        <h2>Lorem Ipsum Dolor</h2>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                            labore
                            et dolore magna aliqua. Blandit volutpat maecenas volutpat blandit aliquam etiam erat velit.
                            Cras
                            sed felis eget velit aliquet sagittis id. Metus aliquam eleifend mi in nulla posuere
                            sollicitudin
                            aliquam. Massa ultricies mi quis hendrerit dolor magna eget est. Arcu felis bibendum ut
                            tristique et
                            egestas quis ipsum suspendisse. Malesuada fames ac turpis egestas integer eget aliquet nibh.
                            Vel
                            orci porta non pulvinar neque. Pulvinar mattis nunc sed blandit. Id venenatis a condimentum
                            vitae.
                            Risus viverra adipiscing at in tellus integer feugiat. Cursus in hac habitasse platea
                            dictumst
                            quisque sagittis purus. Mi bibendum neque egestas congue quisque egestas diam in.
                        </p>
                        <p>
                            Morbi tincidunt augue interdum velit euismod. Sapien faucibus et molestie ac feugiat sed
                            lectus
                            vestibulum. Aenean pharetra magna ac placerat vestibulum lectus mauris ultrices. Mauris
                            augue
                            neque
                            gravida in. Suspendisse interdum consectetur libero id faucibus nisl tincidunt eget. Massa
                            enim
                            nec
                            dui nunc mattis enim ut tellus. Diam volutpat commodo sed egestas. Aliquam malesuada
                            bibendum
                            arcu
                            vitae elementum curabitur vitae nunc sed. Sit amet risus nullam eget. Arcu vitae elementum
                            curabitur
                            vitae nunc sed velit dignissim sodales. Dis parturient montes nascetur ridiculus mus.
                            Tincidunt
                            augue interdum velit euismod. Purus viverra accumsan in nisl nisi scelerisque eu ultrices.
                        </p>
                        <button class="add-gallery-item">Add to cart</button>
                    </div>
                </div>
            </div>
        </section>
        <section>
            <div class="carousel-section">
                <h2> Our accessories</h2>
                <div class="accessoires-carousel-section">
                    <button id="carousel-left-nav">
                        <img src="./assets/icones/left-arrow.svg" alt="naviguer à gauche dans le carousel" srcset="">
                    </button>
                    <div class="carousel-container" id="wrapper">
                        <div class="carousel-slider">
                            <div class="carousel-item item">
                                <img src="./assets/carousel/carousel-item-1.png" alt="Whisk and spatula">
                                <h4>Whisk and spatula ​</h4>
                                <p>Bamboo accessory box</p>
                                <span>34,90€</span>
                                <button class="add-gallery-item"> Add to cart </button>
                            </div>
                            <div class="carousel-item item">
                                <img src="./assets/carousel/carousel-item-2.png" alt="Teapot with filter (44cl)">
                                <h4>Teapot with filter (44cl) ​</h4>
                                <p>T.TOTEM</p>
                                <span>23,50€</span>
                                <button class="add-gallery-item"> Add to cart </button>
                            </div>
                            <div class="carousel-item item">
                                <img src="./assets/carousel/carousel-item-3.png" alt="Aqua Rosa​ Water Bottle">
                                <h4>Aqua Rosa​ Water Bottle</h4>
                                <p>Lorem Ipsum</p>
                                <span>37,00€</span>
                                <button class="add-gallery-item"> Add to cart </button>
                            </div>
                            <div class="carousel-item item">
                                <img src="./assets/carousel/carousel-item-4.png" alt="Lorem Ipsum">
                                <h4>Lorem Ipsum​</h4>
                                <p>Lorem Ipsum</p>
                                <span>37,00€</span>
                                <button class="add-gallery-item"> Add to cart </button>
                            </div>
                            <div class="carousel-item item">
                                <img src="./assets/carousel/carousel-item-5.png" alt="Lorem Ipsum">
                                <h4>Lorem Ipsum​</h4>
                                <p>Lorem Ipsum</p>
                                <span>37,00€</span>
                                <button class="add-gallery-item"> Add to cart </button>
                            </div>
                        </div>
                    </div>
                    <button id="carousel-right-nav">
                        <img src="./assets/icones/right-arrow.svg" alt="naviguer à droite  dans le carousel" >
                    </button>
                </div>
            </div>
        </section>
        <section>
            <br>
            <br>
            <br>
            <br>
        </section>
    </div>
    <footer>
        <select name="langage-selector" id="langage-selector">
            <option value="fr">Français</option>
            <option value="en">English</option>
        </select>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/Draggable.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const header = document.querySelector('header');
            window.addEventListener('scroll', function () {
                if (window.scrollY > 15) {
                    header.style.borderBottom = '2px solid #f4f4f4';
                } else {
                    header.style.borderBottom = 'none';
                }
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            const promo = document.querySelector(".bar-promo");
            const closePromoBtn = document.querySelector(".bar-promo span");
            const showPromo = document.querySelector("#show-promo");

            promo.style.display = "block";
            showPromo.style.display = "none";

            closePromoBtn.addEventListener('click', function () {
                promo.style.display = "none";
                showPromo.style.display = "flex";
            });
            showPromo.addEventListener("click", function () {
                promo.style.display = "block";
                showPromo.style.display = "none";
            });
        });


        document.addEventListener('DOMContentLoaded', function () {
            const dropdownMenuBtn = document.getElementById('dropdown-menu');
            const dropdownContent = document.getElementById('dropdown-content');
            let isOpen = false;

            dropdownMenuBtn.addEventListener('click', function (event) {
                isOpen = !isOpen;
                dropdownContent.style.display = isOpen ? 'flex' : 'none';
                event.stopPropagation(); 
            });

            document.addEventListener('click', function (event) {
                if (!dropdownMenuBtn.contains(event.target) && !dropdownContent.contains(event.target)) {
                    isOpen = false;
                    dropdownContent.style.display = 'none';
                }
            });

            dropdownContent.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', function (event) {
                    event.stopPropagation(); 
                });
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            const modalContainer = document.getElementById('modal-container');
            const modalCloseBtn = document.querySelector('.modal-content .close');
            const openModalBtn = document.querySelector('.banner-content button');
            const openModalResponsiveBtn = document.querySelector('.banner-responsive');
            openModalBtn.addEventListener('click', function () {
                modalContainer.style.display = 'block';
                document.body.classList.add('modal-open');
            });
            openModalResponsiveBtn.addEventListener('click', function () {
                modalContainer.style.display = 'block';
                document.body.classList.add('modal-open');
            });


            modalCloseBtn.addEventListener('click', function () {
                modalContainer.style.display = 'none';
                document.body.classList.remove('modal-open');
            });
            window.addEventListener('click', function (event) {
                if (event.target === modalContainer) {
                    modalContainer.style.display = 'none';
                    document.body.classList.remove('modal-open');
                }
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            const addToCartButtons = document.querySelectorAll('.add-gallery-item');
            addToCartButtons.forEach(button => {
                button.addEventListener('click', function () {
                    button.textContent = 'Dans le panier ✓';
                    button.style.color = '#709670';
                    button.style.borderColor = '#709670';
                    if (button.textContent === 'Dans le panier ✓') {
                        const styles = window.getComputedStyle(button, '::after');
                        button.style.setProperty('background-color', '#fbfbfb');
                    }
                });
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            const addToCartButtons = document.querySelectorAll('.add-gallery-item');
            const counterContainer = document.getElementById('counter');
            let counter = 0;
            function updateCounter() {
                counterContainer.textContent = counter;
            }
            counterContainer.style.display = "none";
            // Parcourez tous les boutons et ajoutez un écouteur d'événements à chacun
            addToCartButtons.forEach(button => {
                button.addEventListener('click', function () {
                    counterContainer.style.display = "flex";
                    // Incrémentation du compteur
                    counter++;
                    // Mettre à jour le compteur affiché
                    updateCounter();
                    // Changez le texte du bouton pour indiquer qu'il a été ajouté au panier
                    button.textContent = 'Dans le panier ✓';
                });
            });
        });
        // Draggable carousel à l'aide de la bibliothèque gsap
        //console.clear();
        gsap.registerPlugin(Draggable);
        var wrapper = document.querySelector('.carousel-container');
        var right = document.querySelector('#carousel-right-nav');
        var left = document.querySelector('#carousel-left-nav');
        var boxes = document.querySelectorAll('.carousel-item');
        var boxWidth = 220;
        var imgWidth = boxWidth - 5;
        var wrapWidth = boxes.length * boxWidth + 1;
        var viewWidth = wrapper.offsetWidth;

        gsap.set(wrapper, { height: 375, width: wrapWidth + 1 });
        for (var i = 0; i < boxes.length; i++) {
            let box = boxes[i];
            gsap.set(box, { x: i * boxWidth, left: -boxWidth + 1 });
        }
        var wrapProgress = gsap.utils.wrap(0, 1);
        var snapBox = gsap.utils.snap(boxWidth);
        var clickAnimation = gsap.set({}, {});
        var proxy = document.createElement("div");
        var props = gsap.getProperty(proxy);

        var animation = gsap.to('.carousel-item', {
            duration: 1,
            x: "+=" + wrapWidth,
            ease: Linear.easeNone,
            paused: true,
            repeat: 1,
            modifiers: {
                x: function (x, target) {
                    x = parseFloat(x) % wrapWidth;
                    return x + "px";
                }
            }
        }).progress(1 / boxes.length);

        Draggable.create(proxy, {
            type: "x",
            trigger: "#wrapper",
            throwProps: true,
            onDrag: updateProgress,
            onThrowUpdate: updateProgress,
            snap: {
                x: snapBox
            }
        });

        left.addEventListener('click', animateCarousel.bind(null, -1));
        right.addEventListener('click', animateCarousel.bind(null, +1));

        function updateProgress() {
            animation.progress(wrapProgress(props("x") / wrapWidth));
        }

        function animateCarousel(direction) {
            var currentPosition = parseFloat(props("x"));
            var nextPosition = currentPosition + direction * boxWidth;
            if (nextPosition < 0) {
                nextPosition = wrapWidth - boxWidth;
            } else if (nextPosition >= wrapWidth) {
                nextPosition = 0;
            }
            clickAnimation.kill();
            clickAnimation = gsap.to(proxy, {
                duration: 0.2,
                x: nextPosition,
                onUpdate: updateProgress
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            const langSelector = document.getElementById('langage-selector');
            const currentPage = window.location.pathname;
                if (currentPage.includes('index.html')) {
                    langSelector.value = 'fr';
                } 
                else if (currentPage.includes('home.html')) {
                    langSelector.value = 'en';
                    langSelector.addEventListener('change', function () {
                        const selectedLang = langSelector.value;
                        if (selectedLang === 'en') {
                            window.location.href = 'home.html';
                        } 
                        else if (selectedLang === 'fr') {
                            window.location.href = 'index.html';
                        }
                    });
                }
            }); 
    </script>
</body>
</html>